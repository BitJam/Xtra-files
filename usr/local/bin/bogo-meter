#!/bin/bash

SCREEN_WIDTH=$(stty size 2>/dev/null | cut -d" " -f2)
: ${SCREEN_WIDTH:=70}

bogo_meter() {
    local width=${SCREEN_WIDTH:-70} delay=60  dot=.
    local cnt=$(( width * 80 / 100 ))
    local sleep=$(echo $delay $cnt | awk '{printf "%.2f\n", $1/$2}')
    while true; do
        for s in $(seq 1 $cnt); do
            sleep $sleep
            echo -n "$dot"
        done
        echo
    done
}

bogo_meter
